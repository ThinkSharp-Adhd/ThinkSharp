<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ThinkSharp - A Focus Quiz for ADHD Awareness and Self-Help" />
  <title>ThinkSharp: ADHD Focus Quiz</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBlgQqPVQjAr_edKWGiVmS5hIGGCXRU9Vc",
      authDomain: "website-login-8697b.firebaseapp.com",
      projectId: "website-login-8697b",
      storageBucket: "website-login-8697b.appspot.com",
      messagingSenderId: "154630434494",
      appId: "1:154630434494:web:6e51f148e5a5a6ff9938ef",
      measurementId: "G-919YBWXJZH"
    };
    firebase.initializeApp(firebaseConfig);
  </script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center transition-colors duration-300">
  <div id="app" class="w-[90vw] max-w-[600px] min-w-[300px] mx-auto p-6 bg-white rounded-lg shadow-md dark:bg-gray-800 dark:shadow-gray-900 transition-colors duration-300 fade-in">
    <!-- Authentication -->
    <div id="auth-section" class="slide-in">
      <h2 class="text-xl font-semibold mb-4 text-center text-gray-800 dark:text-gray-200">Sign In to Take the Quiz</h2>
      <input id="email" type="email" class="w-full p-2 mb-2 border rounded text-sm dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600" placeholder="Enter your email" aria-label="Email input" />
      <button id="send-link" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm" aria-label="Send sign-in link">Send Sign-In Link</button>
      <div id="auth-message" class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400"></div>
    </div>

    <!-- Loader -->
    <div id="loader" class="flex justify-center items-center h-[30vh] hidden">
      <div class="flex space-x-2">
        <div class="w-3 h-3 bg-blue-500 rounded-full loader-dot" style="--i: 0;"></div>
        <div class="w-3 h-3 bg-blue-500 rounded-full loader-dot" style="--i: 1;"></div>
        <div class="w-3 h-3 bg-blue-500 rounded-full loader-dot" style="--i: 2;"></div>
      </div>
    </div>

    <!-- Quiz -->
    <div id="quiz" class="hidden slide-in">
      <div id="question" class="text-lg font-semibold text-center mb-4 text-gray-800 dark:text-gray-200">Loading...</div>
      <div id="options" class="flex flex-wrap justify-between gap-2 mb-4"></div>
      <div class="labels flex justify-between text-xs text-gray-600 dark:text-gray-400">
        <span>Never</span><span>Rarely</span><span>Sometimes</span><span>Often</span><span>Always</span>
      </div>
    </div>

    <!-- Results -->
    <div id="result-screen" class="hidden slide-in">
      <div id="xpLevel" class="text-base font-semibold text-center mb-2 text-gray-800 dark:text-gray-200"></div>
      <div class="progress-bar-container w-full bg-gray-200 rounded-full mb-4 dark:bg-gray-700">
        <div id="xpProgress" class="progress-bar rounded-full"></div>
      </div>
      <div id="score" class="text-xl font-bold text-center mb-4 text-gray-800 dark:text-gray-200"></div>
      <div id="tasks" class="task-list space-y-2"></div>
      <div class="flex space-x-2 mt-4">
        <button id="settings-btn" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm" aria-label="Open settings">Settings</button>
        <button id="sign-out-btn" class="w-full py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm" aria-label="Sign out">Sign Out</button>
      </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center modal">
      <div class="bg-white p-6 rounded-lg w-[80vw] max-w-[400px] dark:bg-gray-800 slide-in">
        <h2 class="text-base font-semibold mb-4 text-gray-800 dark:text-gray-200">Settings</h2>
        <div class="flex items-center justify-between mb-4">
          <label class="text-sm text-gray-700 dark:text-gray-300">Dark Mode</label>
          <input type="checkbox" id="darkModeToggle" class="w-5 h-5" aria-label="Toggle dark mode" />
        </div>
        <button id="retake-btn" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm" aria-label="Retake quiz">Retake Quiz</button>
        <button id="close-settings-btn" class="w-full py-2 mt-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm" aria-label="Close settings">Close</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>